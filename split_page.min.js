function sp_container_info(e,t,n,a=20,_=0){this.childs=e,this.item_pre_page=a,this.page_num=_,this.page_content_container=t,this.page_ctrl_container=n,this.page_nav_items_count=5,this.page_nav_cur_page=0,this.is_setup_page_nav=!1,this.page_nav_items_container=null,this.page_nav=null,this.hidden_nav_input_ctrl_width=700,this.on_page_changed=null}let g_sp_data=new Map,g_sp_char_set="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";function sp_hash_string(e){let t=new Array(30,36,53,138,29,49,155,17,5,23,153,34,51,102,119,83,44,234,174,26,52,161,225,66,83,168,209,19,185,17,5,113,153,34,51,102,119,53,194,174,234,161,67,26),n=t.length,a=e.length;if(a>n)for(let a=0;a<e.length;++a)t[a%n]^=e.charCodeAt(a);else for(let _=0;_<n;++_)t[_]^=e.charCodeAt(_%a);for(let e=0;e<n;++e)t[e]=g_sp_char_set[t[e]%g_sp_char_set.length];return t.join("")}function sp_get_all_childs(e,t=1){let n=e.firstChild,a=e.lastChild,_=new Array;for(;n!=a;n=n.nextSibling)n.nodeType===t&&_.push(n);return _}function sp_sec_page_num(e,t){let n=g_sp_data.get(e),a=t;if(t<0)a=0;else{let e=Math.ceil(n.childs.length/n.item_pre_page)-1;t>e&&(a=e)}return a}function sp_id(e){return document.getElementById(e)}function split_page_by_id(e,t=20){return split_page(sp_id(e),t)}function split_page(e,t=20){let n=sp_get_all_childs(e),a="split_page_id";a=0==e.id.length?sp_hash_string("page_content"+e.className+new Date):e.id+"_split_page";let _=sp_hash_string("page_ctrl"+e.id+e.className+new Date),p=document.createElement("div");p.id=a;let i=document.createElement("div");i.id=_,e.parentNode.replaceChild(p,e),p.appendChild(e),p.appendChild(i);let l=new sp_container_info(n,e,i,t);return g_sp_data.set(e,l),setup_page_ctrl(e,0),sp_load_content(e,0),l}function sp_load_content(e,t){let n=g_sp_data.get(e);n.page_num=sp_sec_page_num(e,t),sp_update_page_ctrl(e,n.page_num),n.page_content_container.innerHTML="";for(let e=0;e<n.item_pre_page;++e){let t=n.page_num*n.item_pre_page+e;if(t>n.childs.length-1)break;n.page_content_container.appendChild(n.childs[t])}let a=n.on_page_changed;null!=a&&a()}function sp_to_previous_page(e){sp_load_content(e,g_sp_data.get(e).page_num-1)}function sp_to_next_page(e){sp_load_content(e,g_sp_data.get(e).page_num+1)}function sp_create_nav_btn(e,t){let n=document.createElement("button");return n.innerHTML=t+1,n.onclick=function(){sp_load_content(sp_id(e.id),t)},n.className="page_nav_btn",n}function sp_create_ignore_nav_btn(e){let t=document.createElement("button");return t.innerHTML="...",t.className="page_nav_btn",t.onclick=function(){let t=window.prompt("please enter the page number"),n=parseInt(t);isNaN(n)||sp_load_content(e,n-1)},t}function sp_update_page_ctrl(e,t){let n=g_sp_data.get(e);n.page_nav_cur_page=t;let a=n.page_nav_items_count,_=n.page_nav_items_container;if(null==_)return;_.innerHTML="";let p=Math.ceil(n.childs.length/n.item_pre_page)-1;if(p+2>a+t){let n=t;a/2<t?n-=Math.floor(a/2):n=0;for(let p=n;p<n+a;++p){let n=sp_create_nav_btn(e,p);p==t&&(n.className+=" page_nav_cur_btn"),_.appendChild(n)}if(a<p){let t=sp_create_ignore_nav_btn(e),n=sp_create_nav_btn(e,p);_.appendChild(t),_.appendChild(n)}}else if(a<p){let n=sp_create_ignore_nav_btn(e),i=sp_create_nav_btn(e,0);_.appendChild(i),_.appendChild(n);for(let n=p-a+1;n<p+1;++n){let a=sp_create_nav_btn(e,n);n==t&&(a.className+=" page_nav_cur_btn"),_.appendChild(a)}}else for(let n=0;n<p+1;++n){let a=sp_create_nav_btn(e,n);n==t&&(a.className+=" page_nav_cur_btn"),_.appendChild(a)}}function setup_page_ctrl(e,t=0,n=5){let a=g_sp_data.get(e),_=Math.ceil(a.childs.length/a.item_pre_page)-1;if(t>n||0==_)return;a.is_setup_page_nav=!0,a.page_nav_items_count=n;let p=document.createElement("div");p.className="page_nav_container",a.page_nav=p;let i=document.createElement("button");i.onclick=function(){sp_to_previous_page(sp_id(e.id))},i.innerHTML="<",i.className="page_nav page_nav_btn page_nav_ctrl_btn";let l=document.createElement("button");l.onclick=function(){sp_to_next_page(sp_id(e.id))},l.innerHTML=">",l.className="page_nav page_nav_btn page_nav_ctrl_btn",p.appendChild(i);let s=document.createElement("div");s.className="page_nav page_nav_items_container",a.page_nav_items_container=s,p.appendChild(s),p.appendChild(l);let c=document.createElement("div");c.className="page_nav page_nav_items_container";let r=document.createElement("span");r.innerHTML="to",r.className="page_nav";let d=document.createElement("input");d.type="text",d.className="page_nav_input page_nav";let o=document.createElement("button");o.innerHTML="Go",o.className="page_nav page_nav_btn page_nav_ctrl_btn",window.onclick=function(){let t=parseInt(d.value);isNaN(t)||(t-=1,sp_load_content(e,t))},c.appendChild(r),c.appendChild(d),c.appendChild(o),p.appendChild(c);let g=function(){document.documentElement.clientWidth>a.hidden_nav_input_ctrl_width?c.style.display="flex":c.style.display="none"};window.addEventListener("resize",g),g(),a.page_ctrl_container.appendChild(p)}
